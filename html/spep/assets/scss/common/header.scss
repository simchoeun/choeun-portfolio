:root {
  --vh: 1vh;
}

#header {
  display: flex;
  justify-content: center;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 6rem;
  z-index: 10;
  background-color: $white;
  transition: transform 0.2s linear, height 0.3s ease;
  &.down {
    transform: translateY(-12rem);
  }
  &.active {
    z-index: 12;
    .content_wrap {
      .info_wrap {
        .alarm {
          display: none;
        }
      }
    }
  }
  &.hover {
    height: 27rem;
    box-shadow: 0 2.4rem 3.4rem 0 rgba(0, 0, 0, 0.05);
    .content_wrap {
      position: relative;
      &::after {
        content: "";
        display: block;
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 0.1rem;
        background-color: #e8e8e8;
        opacity: 0.4;
      }
      .sub_menu {
        opacity: 1;
        pointer-events: auto;
      }
    }
  }
  &.open_alarm {
    z-index: 3;
  }

  .content_wrap {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 157.2rem;
    width: 100%;
    height: 6rem;
    padding: 0 1.6rem;
    .logo {
      width: 8.1rem;
      img {
        width: 100%;
      }
    }
    .link_back {
      display: none;
    }
    nav {
      > ul {
        display: flex;
        gap: 10.8rem;
        align-items: center;
        > li {
          position: relative;
          .depth1 {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 13.6rem;
            height: 6rem;
            font-size: 1.6rem;
            font-weight: $medium;
            &::after {
              content: "";
              display: none;
              position: absolute;
              left: 0;
              bottom: 0;
              width: 100%;
              height: 0.2rem;
              background-color: $point;
            }
            // &.active {
            //   font-weight: $semiBold;
            //   color: $point;
            // }
          }
          &.active {
            .depth1 {
              &::after {
                display: block;
              }
            }
          }
          &:last-child {
            margin-left: -3.8rem;
          }
          .sub_menu {
            opacity: 0;
            pointer-events: none;
            display: flex;
            gap: 2.5rem;
            flex-direction: column;
            align-items: center;
            position: absolute;
            top: 9.5rem;
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s;
            li {
              .depth2 {
                display: flex;
                justify-content: center;
                width: 13.4rem;
                font-size: 1.6rem;
                font-weight: $medium;
                line-height: 1.1rem;
                color: #545454;
                &:hover {
                  color: $point;
                }
              }
            }
          }
        }
      }
    }
    .info_wrap {
      display: flex;
      gap: 3.3rem;
      align-items: center;
      position: relative;
      .alarm {
        position: relative;
        &.new {
          &::after {
            content: "";
            display: block;
            position: absolute;
            top: 0.1rem;
            right: 0.1rem;
            width: 0.6rem;
            height: 0.6rem;
            background-color: #175df3;
            border-radius: 50%;
          }
        }
        &.mo_hidden {
          display: block;
        }
        &.pc_hidden {
          display: none;
        }
      }
      .alarm_box {
        overflow: hidden;
        display: none;
        gap: 0.6rem;
        flex-direction: column;
        position: absolute;
        top: 4.4rem;
        right: 15rem;
        z-index: 2;
        width: 54rem;
        max-height: 64rem;
        // height: 80vh;
        height: calc(var(--vh) * 80);
        padding-right: 0.4rem;
        background-color: $white;
        box-shadow: 0 0 2.4rem 0 rgba(0, 0, 0, 0.06);
        border-radius: 0.8rem;
        &.active {
          display: flex;
        }
        .top_wrap {
          flex-shrink: 0;
          display: flex;
          justify-content: space-between;
          align-items: center;
          position: relative;
          width: calc(100% + 0.4rem);
          height: 4.8rem;
          padding: 0 1.2rem 0 1.6rem;
          &::after {
            content: "";
            display: block;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0.1rem;
            background-color: #f0f0f0;
          }
          .alarm_tit {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            font-size: 1.6rem;
            font-weight: $semiBold;
            color: #5d6477;
            &::before {
              content: "";
              display: block;
              width: 1.6rem;
              height: 1.6rem;
              background: url(../images/icon/ic_alarm_detail.svg) no-repeat
                center/cover;
            }
          }
          .btn_close {
            width: 1.6rem;
            height: 1.6rem;
            background: url(../images/icon/ic_alarm_close.svg) no-repeat
              center/cover;
          }
        }
        .bottom_wrap {
          overflow-y: auto;
          padding: 0.8rem 0.8rem 1rem 1.6rem;
          &::-webkit-scrollbar {
            width: 0.2rem;
          }
          &::-webkit-scrollbar-thumb {
            background-color: #d9d9d9;
            border-radius: 1rem;
          }
          .date_box {
            ~ .date_box {
              margin-top: 3rem;
            }
            .date_tit {
              margin-bottom: 0.2rem;
              font-size: 1.4rem;
              font-weight: $semiBold;
              line-height: 2.5rem;
            }
            .alarm_detail {
              overflow: hidden;
              background-color: #f8f8f8;
              border-radius: 1rem;
              ~ .alarm_detail {
                margin-top: 1rem;
              }
              .btn_alaram_detail {
                display: flex;
                gap: 1.2rem;
                width: 100%;
                min-height: 6.3rem;
                padding: 1.2rem 1.6rem;
                text-align: left;
                .ic_checkbox {
                  flex-shrink: 0;
                  display: block;
                  width: 0.8rem;
                  height: 0.8rem;
                  margin-top: 0.6rem;
                  background-color: $point;
                  border-radius: 50%;
                }
                .txt_wrap {
                  .tit {
                    display: block;
                    font-size: 1.6rem;
                    font-weight: $semiBold;
                  }
                  .date {
                    display: block;
                    margin-top: 0.5rem;
                    font-size: 1.2rem;
                    font-weight: $semiBold;
                    color: #999999;
                    text-align: left;
                  }
                }
              }
              &.checked {
                .btn_alaram_detail {
                  .ic_checkbox {
                    background-color: #dcdcdc;
                  }
                }
              }
            }
          }
        }
        .btn_alarm_more {
          display: none;
        }
      }
      .info_btn {
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        height: 3.8rem;
        padding: 0 0.8rem;
        border: 0.1rem solid #ebebeb;
        border-radius: 0.9rem;
        .user_name {
          margin: 0 1.1rem 0 0.7rem;
          font-size: 1.6rem;
          font-weight: $medium;
        }
      }
      .info_detail {
        display: none;
        position: absolute;
        top: 4.4rem;
        right: 0;
        z-index: 1;
        width: 19rem;
        background-color: $white;
        box-shadow: 0 0 2.4rem 0 rgba(0, 0, 0, 0.07);
        border-radius: 0.8rem;
        &.active {
          display: block;
        }
        .top_wrap {
          padding: 1rem 1.4rem;
          .user {
            display: flex;
            gap: 0.5rem;
            padding-left: 0.6rem;
            .user_name {
              font-size: 1.4rem;
              font-weight: $medium;
            }
          }
          .point_wrap {
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            justify-content: center;
            align-items: center;
            height: 6.6rem;
            margin-top: 1.6rem;
            background-color: rgba($color: #f6f6f6, $alpha: 0.8);
            border: 0.1rem solid #f3f3f3;
            border-radius: 0.6rem;
            .txt {
              display: flex;
              gap: 0.4rem;
              align-items: center;
              font-size: 1.4rem;
              font-weight: $medium;
            }
            .point {
              font-size: 1.6rem;
              font-weight: $semiBold;
            }
          }
        }
        .link_list {
          li {
            padding: 1.8rem 2rem;
            border-top: 0.1rem solid rgba($color: #f0f0f0, $alpha: 0.8);
            a {
              display: block;
              font-size: 1.4rem;
              font-weight: $medium;
              ~ a {
                margin-top: 1.6rem;
              }
              &.logout {
                display: flex;
                gap: 0.5rem;
                align-items: center;
                color: rgba($color: #262626, $alpha: 0.6);
              }
            }
          }
        }
      }
    }
    .btn_menu {
      display: none;
    }
    .mo_menu_wrap {
      display: none;
    }
  }

  @media (max-width: 1280px) {
    .content_wrap {
      nav {
        > ul {
          gap: 4.4rem;
        }
      }
    }
  }

  @media (max-width: 1024px) {
    .content_wrap {
      nav {
        > ul {
          gap: 1rem;
          > li {
            .depth1 {
              width: 12rem;
            }
          }
        }
      }
    }
  }

  @media (max-width: 768px) {
    .content_wrap {
      padding: 0 2rem;
      .logo {
        width: 7.1rem;
      }
      nav {
        display: none;
      }
      .info_wrap {
        margin-left: auto;
        margin-right: 2rem;
        .info_btn {
          display: none;
        }
        .alarm {
          &.mo_hidden {
            display: none;
          }
          &.pc_hidden {
            display: block;
          }
        }
        .alarm_box {
          overflow: visible;
          top: 4.2rem;
          right: -6.4rem;
          width: 100vw;
          max-height: none;
          height: calc((var(--vh) * 100) - 14rem);
          border-radius: 0;
          box-shadow: none;
          .top_wrap {
            flex-direction: row-reverse;
            justify-content: flex-end;
            position: absolute;
            top: -6rem;
            z-index: 2;
            width: calc(100% - 6rem);
            height: 6rem;
            padding: 0 1.6rem;
            background-color: $white;
            &::after {
              display: none;
            }
            .btn_close {
              width: 3rem;
              height: 3rem;
              background-image: url(../images/icon/ic_back_arrow.svg);
            }
            .alarm_tit {
              position: absolute;
              top: 50%;
              left: calc(50% + 3rem);
              transform: translate(-50%, -50%);
              font-size: 1.9rem;
              font-weight: $bold;
              color: #262626;
              &::before {
                display: none;
              }
            }
          }
          .bottom_wrap {
            padding: 2rem 1.2rem 2rem 1.6rem;
            .date_box {
              ~ .date_box {
                margin-top: 4.2rem;
              }
              .date_tit {
                margin-bottom: 1.5rem;
                font-size: 2rem;
                line-height: normal;
              }
              .alarm_detail {
                .btn_alaram_detail {
                  gap: 0.8rem;
                  min-height: 7.4rem;
                  padding: 1.6rem;
                  .ic_checkbox {
                    width: 0.8rem;
                    height: 0.8rem;
                    margin-top: 0.6rem;
                  }
                }
              }
            }
          }
          .btn_alarm_more {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 5rem;
            margin-top: 2rem;
            background-color: $point;
            border-radius: 0.8rem;
            font-size: 1.6rem;
            font-weight: $medium;
            color: $white;
          }
        }
      }
      .btn_menu {
        display: flex;
        gap: 0.3rem;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 1;
        width: 2.4rem;
        height: 2.4rem;
        span {
          display: block;
          width: 1.8rem;
          height: 0.2rem;
          background-color: $black;
          transition: all 0.3s ease-in-out;
        }
        &.active {
          span {
            &:nth-child(1) {
              transform: translateY(0.3rem) rotate(45deg);
            }
            &:nth-child(2) {
              opacity: 0;
            }
            &:nth-child(3) {
              transform: translateY(-0.7rem) rotate(-45deg);
            }
          }
        }
      }
      .mo_menu_wrap {
        display: flex;
        flex-direction: column;
        position: absolute;
        top: 6rem;
        right: -100%;
        width: 100%;
        height: calc(var(--vh, 1vh) * 100 - 6rem);
        padding: 2rem 1.6rem 0;
        transition: all 0.3s ease-in-out;
        background-color: $white;
        &.active {
          right: 0;
        }
        .logo_box {
          width: 7.1rem;
          height: 6rem;
          .logo {
            height: 2rem;
          }
        }
        .top_wrap {
          .user_wrap {
            display: flex;
            gap: 1.2rem;
            align-items: center;
            padding: 0 0.4rem;
            .thumbnail {
              overflow: hidden;
              display: flex;
              justify-content: center;
              align-items: center;
              width: 6.8rem;
              height: 6.8rem;
              background: url(../images/icon/ic_user_mo.svg) no-repeat
                center/cover;
              img {
                width: 100%;
              }
            }
            .user_info {
              display: none;
              &.active {
                display: block;
              }
              .user_name {
                margin-bottom: 1.2rem;
                font-size: 1.8rem;
                font-weight: $semiBold;
              }
              .info {
                display: flex;
                gap: 2rem;
                align-items: center;
                height: 3rem;
                padding: 0 0.8rem;
                background-color: #e1ecff;
                border-radius: 0.5rem;
                font-size: 1.4rem;
                font-weight: $medium;
                color: $point;
                span {
                  ~ span {
                    position: relative;
                    &::before {
                      content: "";
                      display: block;
                      position: absolute;
                      top: 50%;
                      left: -1rem;
                      transform: translateY(-50%);
                      width: 0.1rem;
                      height: 1.3rem;
                      background-color: rgba($color: $point, $alpha: 0.28);
                    }
                  }
                }
              }
            }
            .login_required {
              display: none;
              &.active {
                display: block;
              }
              .btn_menu_login {
                display: flex;
                gap: 0.6rem;
                align-items: center;
                margin-bottom: 1.2rem;
                font-size: 1.8rem;
                font-weight: $semiBold;
                &::after {
                  content: "";
                  display: block;
                  width: 1.8rem;
                  height: 1.8rem;
                  transform: rotate(-90deg);
                  background: url(../images/icon/ic_menu_arrow.svg) no-repeat
                    center/cover;
                }
              }
              .login_info_txt {
                font-size: 1.4rem;
                font-weight: $semiBold;
                color: #969696;
              }
            }
          }
          .point_box {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: calc(100% - 0.8rem);
            height: 6rem;
            margin: 1.4rem 0.4rem 0;
            padding: 0 3rem;
            background-color: #f8f8f8;
            border-radius: 1rem;
            .point_txt {
              display: flex;
              gap: 0.6rem;
              align-items: center;
              font-size: 1.8rem;
              font-weight: $medium;
              color: #323232;
              &::before {
                content: "";
                display: block;
                width: 1.8rem;
                height: 1.8rem;
                background: url(../images/icon/ic_point.svg) no-repeat
                  center/cover;
              }
            }
            .point {
              font-size: 1.8rem;
              font-weight: $bold;
            }
          }
        }
        .scroll_box {
          overflow-y: auto;
          flex: 1;
          .nav_list {
            margin-top: 2rem;
            padding-top: 2.8rem;
            border-top: 0.1rem solid #ededed;
            > li {
              padding: 0 0.4rem;
              ~ li {
                margin-top: 2.6rem;
              }
              .btn_depth1 {
                display: flex;
                justify-content: space-between;
                align-items: center;
                width: 100%;
                font-size: 1.8rem;
                font-weight: $semiBold;
                &::after {
                  content: "";
                  display: block;
                  width: 1.8rem;
                  height: 1.8rem;
                  background: url(../images/icon/ic_menu_arrow.svg) no-repeat
                    center/cover;
                }
                &.no_arrow {
                  &::after {
                    display: none;
                  }
                }
                &.active {
                  color: $point;
                  &::after {
                    transform: rotate(180deg);
                  }
                }
              }
              .depth2_wrap {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease-in-out;
                &.active {
                  max-height: 15rem;
                }
                li {
                  margin-top: 3rem;
                  ~ li {
                    margin-top: 2.4rem;
                  }
                  a {
                    display: block;
                    padding: 0 1.8rem;
                    font-size: 1.6rem;
                    font-weight: $semiBold;
                    color: #7d7d7d;
                  }
                }
              }
            }
            .nav_desc {
              margin-bottom: 2rem;
              font-size: 1.4rem;
              font-weight: $semiBold;
              color: #969696;
            }
          }
        }
        .btn_loginout {
          display: flex;
          gap: 0.4rem;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 6rem;
          margin-top: 1rem;
          border-top: 0.1rem solid #ededed;
          font-size: 1.4rem;
          font-weight: $medium;
          color: #7d7d7d;
          &::before {
            content: "";
            display: block;
            width: 1.4rem;
            height: 1.4rem;
            background: url(../images/icon/ic_logout.svg) no-repeat center/cover;
          }
        }
      }
    }
  }
}

/* 모바일용 하단 Nav */
#moHeader {
  display: none;
  position: fixed;
  z-index: 3;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 8rem;
  padding: 0.3rem 1.4rem 1.8rem;
  background-color: $white;
  box-shadow: 0 0.2rem 1.6rem 0 rgba(0, 0, 0, 0.09);
  nav {
    ul {
      display: flex;
      gap: 1.2rem;
      align-items: center;
      li {
        flex: 1;
        a {
          display: flex;
          flex-direction: column;
          gap: 0.6rem;
          justify-content: center;
          align-items: center;
          height: 6rem;
          font-size: 1.2rem;
          font-weight: $semiBold;
          color: #727f91;
          &::before {
            content: "";
            display: block;
            width: 2rem;
            height: 2rem;
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
          }
        }
        $btnName: home, learning, class, chat, my;

        @for $i from 1 through length($btnName) {
          &:nth-child(#{$i}) {
            a {
              &::before {
                background-image: url("../images/icon/ic_mo_#{nth($btnName, $i)}.svg");
              }
              &.active {
                color: $point;
                &::before {
                  background-image: url("../images/icon/ic_mo_#{nth($btnName, $i)}_active.svg");
                }
              }
            }
          }
        }
      }
    }
  }

  @media (max-width: 768px) {
    display: block;
  }
}
